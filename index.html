<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="css/mpc.css"/>
    <script type="text/javascript" src="http://code.createjs.com/soundjs-0.3.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/libs/preloadjs-0.2.0.min.js"></script>
    <script type="text/javascript" src="js/libs/SoundJS.js"></script>
    <script type="text/javascript" src="js/libs/HTMLAudioPlugin.js"></script>
    <script type="text/javascript" src="js/libs/swfobject.js"></script>
    <script type="text/javascript" src="js/libs/FlashPlugin.js"></script>
    <script src="js/libs/class.js" type="text/javascript"></script>
    <script src="js/libs/waveform-chrome.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/mpc.js"></script>
</head>
<body>
<div id="wrapper">
    <div class="mpc-wrapper">
        <div id="displayField">
            <div id="titleDisplay">
                <div id="soundTitle"></div>
                <div id="volume"></div>
                <div id="padNum"></div>
            </div>
            <div id="waveformDisplay">
                <canvas id="waveform" width="400" height="50"></canvas>
                <div id="soundPos"></div>
                <div id="soundLength"></div>
            </div>
            <div id="modBtnDisplay">
                <div class="displayOverflow" id="modDisplay1"></div>
                <div class="displayOverflow" id="modDisplay2"></div>
                <div class="displayOverflow" id="modDisplay3"></div>
            </div>
        </div>
        <div id="buttonDrawArea">
            <div id="subBtnDrawArea">
                <div id="softBtns">
                    <a>
                        <div class="btns modBtn" data-button="soft1"></div>
                    </a>
                    <a>
                        <div class="btns modBtn" data-button="soft2"></div>
                    </a>
                    <a>
                        <div class="btns modBtn" data-button="soft3"></div>
                    </a>
                </div>
                <div id="modBtns">
                    <a id="leftMod">
                        <div class="btns modBtn" data-button="edit"></div>
                    </a>
                    <a id="rightMod">
                        <div class="btns modBtn" data-button="play"></div>
                    </a>
                </div>
                <div id="logo">
                </div>
                <div id="padMonster" style="
    font-weight: 100;
    font-style: normal;
">PAD<span class="lightText">monster</span></div>
            </div>
            <div id="soundBtnDrawArea" class="loading">
                <div class="btnRow" id="row1"><a>
                    <div class="btns soundBtn" data-button="1">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="2">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="3">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="4">
                        <div></div>
                    </div>
                </a><span style="width:100%;display:inline-block;"></span></div>
                <div class="btnRow" id="row2"><a>
                    <div class="btns soundBtn" data-button="5">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="6">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="7">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="8">
                        <div></div>
                    </div>
                </a><span style="width:100%;display:inline-block;"></span></div>
                <div class="btnRow" id="row3"><a>
                    <div class="btns soundBtn" data-button="9">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="10">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="11">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="12">
                        <div></div>
                    </div>
                </a><span style="width:100%;display:inline-block;"></span></div>
                <div class="btnRow" id="row4"><a>
                    <div class="btns soundBtn" data-button="13">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="14">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="15">
                        <div></div>
                    </div>
                </a><a>
                    <div class="btns soundBtn" data-button="16">
                        <div></div>
                    </div>
                </a>
                    <span style="width:100%;display:inline-block;"></span></div>
            </div>
        </div>
        <div id="loadingMsg">
            <div id="loadingText">Loading...</div>
        </div>
    </div>

    <div id="tutDescription">
      <div class="tutContent">
        <h1>MPC Style Sampler Tutorial</h1>
        <h2>Featuring SoundJS</h2>
        <ol>
          <li>
            <p>First All HTML elements were created.  This was rapidly prototyped out using <strike>Zen Coding</strike>
              <a href="https://github.com/sergeche/zen-coding">Emmet</a></p>
          </li>
          <li><p>Elements were styled using CSS. There was extensive usage of box-shadow as well as border-radius.</p>
            <ul>
              <li>In order to achieve the pad buttons 3D look, several box shadows were used with different colors and
                offsets.
                <code>
                  .btns{
                  box-shadow: 1px 0px 1px #8A8A8A,0px 1px 1px #ACACAC,2px 1px 1px #8A8A8A,1px 2px 1px #ACACAC,3px
                  2px 1px #8A8A8A,2px 3px 1px #ACACAC,4px 3px 1px #8A8A8A,3px 4px 1px #ACACAC,5px 4px 1px #8A8A8A,4px
                  5px 1px #ACACAC,6px 5px 1px #8A8A8A;
                  }
                </code>
              </li>
              <li> To achieve the 8 segment look in the display, a webfont was used.  The div also had a semi-transparent
                png background in order to make it look for realistic.
                <code>
                  @font-face {
                    font-family:"digital7";
                    src: url('Digital-7Mono.woff');
                  }
                </code>
              </li>
              <li>To make the pressed buttons appear more realistic, they were styled using a radial gradient to make it appear as though an LED was under the button
              <code>.soundBtn.playing{
                background-image: radial-gradient(farthest-side circle at center center, #f5c10a 49%, rgba(189,
                189, 189, 0.7) 162%);
                }
              </code></li>
            </ul>

</li>
          <li>
            In order to provide an Object Oriented coding structure to the javascript I used John Resig's <a
              href="http://ejohn.org/blog/simple-javascript-inheritance/">Simple Javascript Inheritance</a>.  This allows
            me to create classes that have an init function that is run on instantiation.
            <code>
              mpcDisplay = Class.extend({
                init: function(){
                  this.initClickHandlers(); // Initialize click handlers (mouse)
                  this.initKeyHandlers(); // Initialize key press handlers (keyboard)
                }
              });
            </code>
            In this function run the functions to initialize the click and key press event handlers.
            <code>
              initClickHandlers:function(){
              var that = this;

              // On mousedown of pads
              $('.soundBtn').mousedown(function(e){
              // Begin Play sequence using pad's data-button attribute to ID button
              that.processInput($(this).attr('data-button'));
              });
              // On mouseup of pads
              $('.soundBtn').mouseup(function(e){
              // Remove soundBtnActive class that makes the button look depressed in
              $(this).removeClass('soundBtnActive');
              })
              }
            </code>
            I used separate keydown and keyup handlers in order to be able to make it appear that
            the button is pressed until the key is release.  This also prevents keyrepeat.
            <code>
              initKeyHandlers:function(){
              var that = this;

              $(document).keydown(function(e){
              var keyPressed = that.keycodeToCell(e.keyCode);
              if(keyPressed){
              if(!that.soundBank[keyPressed-1].isDown){
              that.soundBank[keyPressed-1].isDown = true;
              that.soundBank[keyPressed-1].element.addClass('soundBtnActive');
              that.processInput(keyPressed);
              }
              }
              });
              $(document).keyup(function(e){
              var keyPressed = that.keycodeToCell(e.keyCode);
              if(keyPressed){
              that.soundBank[keyPressed-1].isDown = false;
              that.soundBank[keyPressed-1].element.removeClass('soundBtnActive');
              }
              })
              },
            </code>
            Keycode to cell is a helper function that determines which pad is associated with the designated key.
            <code>
              keycodeToCell: function(keyPressed){
              var keyCellVals = {
              49: 1,
              50: 2,
              51: 3,
              52: 4,
              81: 5,
              87: 6,
              69: 7,
              82: 8,
              65: 9,
              83: 10,
              68: 11,
              70: 12,
              90: 13,
              88: 14,
              67: 15,
              86: 16
              };
              return keyCellVals[keyPressed] || false;
              }
            </code>
            <ul>
              <li></li>
            </ul>
          </li></ol>
    </div>
    </div>
</div>
</body>
</html>